"use strict";$(function(){var e=0,l=0,c=0,i=0,n=0;$("#username").on("focus",function(){$(".tishi").eq(0).css("display","block")}),$("#username").on("change",function(){var s=$("#username").val();s.length<4||20<s.length?$(".tishi").eq(0).html("用户名长度只能在4~20个字符之间").css("color","#f00"):$.ajax({type:"get",url:"http://jx.xuzhixiang.top/ap/api/checkname.php",data:{username:s},success:function(s){console.log(s),0==s.code?$(".tishi").eq(0).html("用户名已经被使用").css("color","#f00"):($(".tishi").eq(0).html("用户名可用").css("color","#0f0"),e++)}})}),$("#password").on("focus",function(){$(".tishi").eq(1).css("display","block")}),$("#password").on("input",function(){var s=$("#password").val(),o=/\D/;console.log(!o.test(s)),s.length<6||20<s.length?$(".tishi").eq(1).html("长度应为6~20个字符").css("color","#f00"):o.test(s)?($(".tishi").eq(1).html("密码可用").css("color","#0f0"),l++):$(".tishi").eq(1).html("密码不能为纯数字").css("color","#f00")}),$("#passwords").on("focus",function(){$(".tishi").eq(2).css("display","block")}),$("#passwords").on("change",function(){var s=$("#password").val();$("#passwords").val()!=s?$(".tishi").eq(2).html("两次输入密码不一致").css("color","#f00"):($(".tishi").eq(2).html("密码一致").css("color","#0f0"),c++)}),$("#email").on("change",function(){var s=$("#email").val();/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(s)?($(".tishi").eq(3).css({display:"block",color:"#0f0"}).html("邮箱可用"),i++):$(".tishi").eq(3).css({display:"block",color:"#f00"}).html("邮箱格式不正确")}),$("input[name='sex']").on("change",function(){n++}),$("#submit").on("click",function(){if(e||alert("请输入正确的用户名"),l||alert("请输入正确的密码"),c||alert("两次密码不一致"),i||alert("请输入正确的邮箱"),n||alert("请选择性别"),console.log(e+":"+l+":"+i+":"+n),e&l&c&i&n){var s=$("#username").val(),o=$("#password").val(),a=$("#email").val(),t=$("input[name='sex']:checked").val();console.log(s+":"+o+":"+a+":"+t),$.ajax({type:"GET",url:"http://jx.xuzhixiang.top/ap/api/reg.php",data:{username:s,password:o,email:a,sex:t},success:function(s){console.log(s),"注册成功"==s.msg?(alert("注册成功"),window.location.href="../login.html"):alert("注册失败")}})}})});